<link rel="import" href="../../polymer/polymer.html">

<link rel="import" href="../../iron-icon/iron-icon.html">
<link rel="import" href="../../iron-icons/iron-icons.html">

<link rel="import" href="../../paper-input/paper-input.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../paper-slider/paper-slider.html">

<link rel="import" href="../air-paginator.html">

<!--

The `user-validator` provides  

@group demo-validator Elements
@element demo-validator
@demo demo/index.html
-->

<dom-module id="demo-paginator">

    <style>
        :host {
            display: block;
        }

        paper-slider {
            width: 100%;
        }
    </style>
    <template>


        <div class="horizontal layout">
            <div>Range</div>
            <paper-slider value="{{range}}" min="-1" max="50" editable></paper-slider>
        </div>
        <div class="horizontal layout">
            <div>Size</div>
            <paper-slider value="{{size}}" max="100" editable></paper-slider>
        </div>
        <div class="horizontal layout">
            <div>Total</div>
            <paper-slider value="{{total}}" max="9000" editable></paper-slider>
        </div>
        <div class="horizontal layout">
            <div>From</div>
            <paper-input label="from" value="{{from}}" type="number"></paper-input>
        </div>

        <section class="vertical layout">
            <div>from : <span>{{from}}</span></div>
            <div>currentpage : <span>{{currentPage}}</span></div>
            <div>lastpage : <span>{{lastPage}}</span></div>
        </section>


        <air-paginator range="{{range}}" last-page="{{lastPage}}" current-page="{{currentPage}}"
                       from="{{from}}" size="{{size}}"
                       total="{{total}}" on-change="_onChangePaging">

        </air-paginator>
        <section>
            <h1>Paginator Events</h1>

            <div>
                <template is="dom-repeat" items="[[paginatorEvents]]" as="event">
                    <div>Event Change From:<span>{{event.from}}</span> Size:<span>{{event.size}}</span></div>
                </template>
            </div>
        </section>
    </template>
</dom-module>

<script>
    (function () {
        'use strict';

        Polymer({
            is: 'demo-paginator',

            properties: {
                from: {
                    type: Number,
                    notify: true,
                    value: 0
                },
                size: {
                    type: Number,
                    notify: true,
                    value: 20
                },
                total: {
                    type: Number,
                    notify: true,
                    value: 5002
                },
                range: {
                    type: Number,
                    notify: true,
                    value: 10
                },
                currentPage: {
                    type: Number,
                    notify: true
                },
                lastPage: {
                    type: Number,
                    notify: true
                },
                paginatorEvents: {
                    type: Array,
                    notify: true,
                    value: function () {
                        return [];
                    }
                }
            },
            _onChangePaging: function (event) {
                var detail = event.detail;
                this.push('paginatorEvents', detail);
                console.log('-- onchange event ', detail);
            }


        });
    })();
</script>